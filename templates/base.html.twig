<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{{'head.title'|trans}}{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <header class="bg-light border-bottom py-3 mb-4">
        <div class="container d-flex justify-content-between align-items-center">
            <h1 class="h4 m-0">{{ 'welcome.title'|trans }}</h1>
            <div>
            <p>Locale actuelle : {{ app.request.locale }}</p>
                {% if app.user %}
                    <span class="me-3">{{ 'welcome.message'|trans }}, {{ app.user.email }}</span>
                    <a href="{{ path('app_main') }}" class="btn btn-primary me-2">{{'menu.home'|trans}}</a>
                    <a href="{{ path('app_game_list') }}" class="btn btn-primary me-2">{{'menu.games'|trans}}</a>
                    <a href="{{ path('app_cart') }}" class="btn btn-primary me-2">{{'menu.cart'|trans}}</a>
                    <a href="{{ path('app_order_index') }}"class="btn btn-primary me-2">{{'menu.orders'|trans}}</a>
                    <a href="{{ path('app_logout') }}" class="btn btn-outline-danger">{{'menu.logout'|trans}}</a>
                {% else %}
                    <a href="{{ path('app_login') }}" class="btn btn-primary me-2">{{'menu.login'|trans}}</a>
                    <a href="{{ path('app_register') }}" class="btn btn-outline-primary">{{'menu.register'|trans}}</a>
                {% endif %}
                <form action="{{ path('set_locale') }}" method="POST" style="display:inline;">
                    <select name="language" onchange="this.form.submit()">
                        <option value="fr" {{ app.request.getLocale() == 'fr' ? 'selected' }}>Fran√ßais</option>
                        <option value="en" {{ app.request.getLocale() == 'en' ? 'selected' }}>English</option>
                    </select>
                </form>
            </div>
        </div>
    </header>

    <main class="container">
        {% block body %}{% endblock %}
    </main>
</body>
</html>
